import streamlit as st
import views.mobile
import views.desktop
import views.compare  # <--- Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð²ÑŒÑŽ
import utils

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹
st.set_page_config(page_title="Poker Trainer", layout="wide", initial_sidebar_state="collapsed")

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° (Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ°, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ)
# ÐÐ¾ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ - Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ

def main():
    # --- SIDEBAR NAVIGATION ---
    with st.sidebar:
        st.title("Poker Trainer")
        app_mode = st.radio("Mode", ["ðŸŽ® Trainer", "ðŸ”¬ Range Lab"])
        st.markdown("---")

    # --- ROUTING ---
    if app_mode == "ðŸ”¬ Range Lab":
        # Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð›Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¸ÑŽ
        views.compare.show()
    
    else:
        # Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¢Ñ€ÐµÐ½Ð°Ð¶ÐµÑ€ (ÑÑ‚Ð°Ñ€Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°)
        # ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð±Ð¸Ð»Ñƒ Ñ‡ÐµÑ€ÐµÐ· ÑˆÐ¸Ñ€Ð¸Ð½Ñƒ ÑÐºÑ€Ð°Ð½Ð° Ð² JS (ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð² Streamlit)
        # ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¾ÑÑ‚Ð°Ð²Ð¸Ð¼ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾ Ð¸Ð»Ð¸ ÑÐ´ÐµÐ»Ð°ÐµÐ¼ Ñ‡ÐµÐºÐ±Ð¾ÐºÑ Ð² ÑÐ°Ð¹Ð´Ð±Ð°Ñ€Ðµ
        
        # Ð”Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñ‹: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‚Ð²Ð¾ÑŽ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð»Ð¾Ð³Ð¸ÐºÑƒ Mobile vs Desktop
        # Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑˆÑŒ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½, Streamlit Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ñ‚ mobile view
        
        # ÐŸÐ Ð˜ÐœÐ•Ð§ÐÐÐ˜Ð•: Ð§Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð»Ð¾Ð¼Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°, 
        # Ð´Ð°Ð²Ð°Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð²Ñ‹Ð·Ð¾Ð²ÐµÐ¼ Ñ‚Ð²Ð¾ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ show() ÐºÐ°Ðº Ñ€Ð°Ð½ÑŒÑˆÐµ, Ð½Ð¾ Ñ ÑƒÑ‡ÐµÑ‚Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ð°.
        
        # Ð¢Ð²Ð¾Ð¹ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ,
        # Ð½Ð¾ Ð´Ð»Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚Ð¸ Ð»ÑƒÑ‡ÑˆÐµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÐµÐ»ÑŒ Mobile/Desktop Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ…, 
        # ÐµÑÐ»Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸ÐºÐ° Ð¿Ð¾Ð´Ð²Ð¾Ð´Ð¸Ñ‚.
        
        # ÐŸÐ¾ÐºÐ° Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð²Ñ‹Ð·Ð¾Ð²ÐµÐ¼ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ (ÐºÐ°Ðº Ñƒ Ñ‚ÐµÐ±Ñ Ð±Ñ‹Ð»Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¾)
        # Ð˜Ð»Ð¸ Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð½ÑƒÑŽ, ÐµÑÐ»Ð¸ Ñ‚Ñ‹ Ð½Ð° ÐŸÐš.
        
        # Ð”ÐÐ’ÐÐ™ Ð¡Ð”Ð•Ð›ÐÐ•Ðœ Ð¢ÐÐš (Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾):
        # ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð³Ñ€ÑƒÐ·Ð¸Ð¼ Mobile (Ñ‚Ð°Ðº ÐºÐ°Ðº Ñ‚Ñ‹ Ñ‡Ð°Ñ‰Ðµ Ñ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°), 
        # Ð½Ð¾ Ð² ÑÐ°Ð¹Ð´Ð±Ð°Ñ€Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Desktop View.
        
        view_type = st.sidebar.radio("View Type", ["Mobile", "Desktop"], index=0)
        
        if view_type == "Mobile":
            views.mobile.show()
        else:
            views.desktop.show()

if __name__ == "__main__":
    main()
